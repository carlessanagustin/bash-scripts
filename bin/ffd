#!/bin/bash -e

function __ffd_install_fd() {
  case "$(lsb_release -si)" in
    Debian)   sudo aptitude install -y fd-find;;
    openSUSE) sudo aptitude install -y fd;;
  esac
}

function __ffd() {
    which fd >/dev/null 2>&1 || __ffd_install_fd
    case "${1}" in
        ant)    shift; fd -F build.xml $@;;
        config) shift; fd -e cfg -e conf -e config -e ini $@;;
        cpp)    shift; fd -e c -e h -e cpp -e hpp $@;;
        pom)    shift; fd -F pom.xml $@;;
        scala)  shift; fd -e scala -e sbt $@;;
        yaml)   shift; fd -e yml -e yaml $@;;
        file)   shift; fd $@;;
        dir)    shift; fd -t d $@;;
        *) local extension ="${1}"; shift; fd -e "${extension}" $@;;
    esac
}

__ffd $@
